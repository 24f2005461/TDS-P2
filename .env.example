# TDS Quiz Solver - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ============================================================================
# REQUIRED VARIABLES
# ============================================================================

# Your email address for quiz authentication and submission
EMAIL=your_email@example.com

# Secret token for quiz authentication
SECRET=your_secret_token

# AIPipe API key for LLM and vision model access (required for Phases 4+)
AIPIPE_API_KEY=paipipe_xxxxxxxxxxxxx

# ============================================================================
# CORE APPLICATION SETTINGS
# ============================================================================

# Application name (displayed in logs and health checks)
APP_NAME=TDS Quiz Solver API

# Environment: development, staging, or production
ENVIRONMENT=development

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Default timeout for HTTP requests (seconds)
REQUEST_TIMEOUT_SECONDS=10.0

# Maximum API payload size (megabytes)
MAX_PAYLOAD_SIZE_MB=1

# ============================================================================
# LLM CONFIGURATION
# ============================================================================

# AIPipe endpoints for LLM routing
AIPIPE_ENDPOINT=https://aipipe.org/openrouter/v1
AIPIPE_GEMINIV1BETA_ENDPOINT=https://aipipe.org/geminiv1beta

# Primary lightweight model for task parsing and reasoning
LLM_DEFAULT_MODEL=x-ai/grok-4.1-fast:free

# Higher-capability backup model for fallback/escalation
LLM_FALLBACK_MODEL=moonshotai/kimi-k2:free

# Comma-separated list of currently approved models
LLM_ALLOWED_MODELS=x-ai/grok-4.1-fast:free,moonshotai/kimi-k2:free

# Comma-separated list of planned/experimental models
LLM_FUTURE_MODELS=gemini-2.5-pro

# Google Cloud project ID (for future google-genai integration)
# GOOGLE_GENAI_PROJECT_ID=my-gcp-project-123

# ============================================================================
# VISION & MULTIMODAL SETTINGS (Phase 9.5)
# ============================================================================

# Multimodal reasoning model for vision analysis
VISION_MODEL_NAME=nvidia/nemotron-nano-12b-v2-vl:free

# Endpoint for vision model API calls
VISION_MODEL_ENDPOINT=https://aipipe.org/openrouter/v1

# Timeout for vision API requests (seconds, longer than text due to image processing)
VISION_REQUEST_TIMEOUT_SECONDS=45.0

# Maximum number of frames/images to sample (Efficient Video Sampling budget)
VISION_MAX_FRAMES=24

# Frame sampling strategy: evs-uniform or evs-keyframe
VISION_FRAME_SAMPLING_STRATEGY=evs-uniform

# Sampling temperature for vision model responses (lower = more deterministic)
VISION_TEMPERATURE=0.1

# Maximum tokens requested from vision model
VISION_MAX_OUTPUT_TOKENS=1024

# Minimum heuristic region score that triggers Nemotron escalation (0-1)
VISION_REGION_SCORE_THRESHOLD=0.18

# Shannon entropy threshold for triggering vision escalation
VISION_ENTROPY_TRIGGER=4.2

# Maximum video duration to sample (seconds)
VISION_MAX_VIDEO_SECONDS=90

# Frame stride for video sampling (higher = fewer frames)
VISION_EVS_STRIDE=4

# ============================================================================
# PLAYWRIGHT BROWSER CONFIGURATION
# ============================================================================

# Run browser in headless mode (set to false for debugging)
PLAYWRIGHT_HEADLESS=true

# CSS selector to wait for before scraping (set to empty string to skip)
PLAYWRIGHT_WAIT_SELECTOR=#result

# Browser viewport dimensions (pixels)
PLAYWRIGHT_VIEWPORT_WIDTH=1280
PLAYWRIGHT_VIEWPORT_HEIGHT=720

# Page navigation timeout (seconds)
PLAYWRIGHT_NAVIGATION_TIMEOUT_SECONDS=20.0

# Selector wait timeout (seconds)
PLAYWRIGHT_WAIT_TIMEOUT_SECONDS=20.0

# Override browser installation path (set to 0 for local cache)
# PLAYWRIGHT_BROWSERS_PATH=0

# ============================================================================
# DOWNLOADER SETTINGS
# ============================================================================

# Timeout for each resource download (seconds)
DOWNLOADER_REQUEST_TIMEOUT_SECONDS=30.0

# Maximum allowed file size for downloads (megabytes)
DOWNLOADER_MAX_FILE_SIZE_MB=50

# Number of concurrent downloads allowed
DOWNLOADER_CONCURRENCY=3

# ============================================================================
# LEGACY/OPTIONAL
# ============================================================================

# Legacy OpenAI API key (not used when AIPipe is configured)
# OPENAI_API_KEY=sk-xxxxxxxxxxxxx
